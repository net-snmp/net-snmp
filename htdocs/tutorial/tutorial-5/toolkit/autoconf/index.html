<!--#set var="section" value="tutorial" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Net-SNMP include file usage and information</title>
  </head>

  <body bgcolor="#ffffff" background="/ucd-snmp-bg3.gif">
    <h1>Net-SNMP include file usage and information</h1>

    <p> The package provides a number of high-level include files that
    may be used by the general application programmer when writing
    applications against the Net-SNMP package APIs.  In particular,
    these files are the following three:</p>

    <ul>
    <table bgcolor="#ccccff" border=2>
	<tr bgcolor="#bbbbee"><th>File</th><th>Description</th></tr>

	<tr><td>net-snmp/net-snmp-config.h</td><td> this file contains
	a number of configuration directives which are used to define
	whether other include files are included by the rest of the
	include files. this file is installed for convenience purposes
	and may be used by simple packages when possible.  However,
	certain package authors may find it problematic to use if the
	package it is being used in also has its own configuration
	file generated by the autoconf mechanisms.  Please see below
	for details on dealing with these issues.</td>
	</tr>

	<tr><td>net-snmp/net-snmp-includes.h</td><td>  This file is a
	high level wrapper around the rest of the more detailed include
	files.  Generally speaking, if an application which is to
	include functionality from the base SNMP library it should
	include this file.  At the die-hard developers may wish to
	include each sub-include file only as needed, as it will ease
	the burden on the C preprocessor.</td>
	</tr>

	<tr><td>net-snmp/agent/net-snmp-agent-includes.h</td><td> This
	file is a high level wrapper around the agent specific include
	files.  Specifically, this fall should be included by
	developers who are developing modules to be used within an
	SNMP agent.  Again, hard-core developers who wish to speed up
	the work of the C processor can be more selective than this,
	however this fall is here for easiest use.</td>
	</tr>
    </table>
      </ul>

    <p> So, for most applications all that a management application
    programmer should need to do would be include the following two
    lines:</p>
    <ul>
    <pre>
#include &lt;net-snmp/net-snmp-config.h&gt;
#include &lt;net-snmp/net-snmp-includes.h&gt;
    </pre>
    </ul>

    <p> Agent developers will need to add one additional line to
    their code files:</p>
    <ul>
    <pre>
#include &lt;net-snmp/agent/net-snmp-agent-includes.h&gt;
    </pre>
    </ul>

    <hr> 

    <p> However, problems arise when another package also uses
    autoconf generated configuration files.  Generally, these
    configuration files conflict with each other due to special
    package symbols that autoconf inserts into the configuration
    files.  Thus, including our particular configuration file
    (net-snmp/net-snmp-config.h) ahead of or below your own package's
    configuration file will cause conflicts.
    </p>

    <p> To get around this problem, your package should probably not
    be including our generated configuration file but should be
    instead using its own.  A minimal template for how to accomplish
    this safely is included below:</p>

<ul>
<pre>
#include &lt;stdio.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;sys/types.h&gt;

/* If you have sys/time.h on your machine: */
#include &lt;sys/time.h&gt;

/* Else pick one of these instead:
#include &lt;time.h&gt;
#include &lt;sys/timeb.h&gt;
*/

/* if on windows: */
#ifdef WIN32
#include &lt;winsock.h&gt;
#endif

/* put a proper extern in front of certain functions */
#define NETSNMP_IMPORT extern

/* don't use inline constructs (define to &lt;i&gt;inline&lt;/i&gt; if you want them) */
#define NETSNMP_INLINE

/* run man signal and see what the user function is supposed to return
   to avoid warnings, or leave as "void" below if you don't care about
   any warnings you might be seeing */
#define RETSIGTYPE void

/* tell the Net-SNMP core functionality headers that we've done the
   minimal requirements */
#define NET_SNMP_CONFIG_H

/* include the core Net-SNMP functionality headers */
#include &lt;net-snmp/net-snmp-includes.h&gt;

</pre>
      </ul>
    <hr>
    <address><a href="mailto:Wes Hardaker <wes@hardakers.net>"></a></address>
<!-- Created: Tue Apr  6 13:53:57 PDT 2004 -->
<!-- hhmts start -->
Last modified: Thu Apr  8 17:04:54 PDT 2004
<!-- hhmts end -->
  </body>
</html>
<!--#include virtual="/sfbutton.html" -->
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

